# Инструкция по запуску Discord Welcome Bot

## Быстрый старт

### 1. Установка зависимостей
```bash
# Автоматическая установка (Windows)
install.bat

# Или вручную
py -m pip install -r requirements.txt
```

### 2. Настройка токена бота

**Вариант 1: Переменная окружения**
```bash
# Windows (PowerShell)
$env:DISCORD_BOT_TOKEN="ваш_токен_бота"

# Windows (Command Prompt)
set DISCORD_BOT_TOKEN=ваш_токен_бота
```

**Вариант 2: Файл .env**
Создайте файл `.env` в папке проекта:
```
DISCORD_BOT_TOKEN=ваш_токен_бота
```

### 3. Запуск бота
```bash
# Автоматический запуск (Windows)
run.bat

# Или вручную
py main.py
```

## Получение токена бота

1. Перейдите на [Discord Developer Portal](https://discord.com/developers/applications)
2. Создайте новое приложение
3. Перейдите в раздел "Bot"
4. Создайте бота и скопируйте токен
5. Включите необходимые интенты:
   - Server Members Intent
   - Message Content Intent
   - Presence Intent

## Настройка прав бота

Бот должен иметь следующие права на сервере:
- Отправка сообщений
- Встраивание ссылок
- Чтение истории сообщений
- Управление ролями
- Управление каналами
- Просмотр каналов

## Проверка работы

После запуска бота в консоли должно появиться:
```
2025-XX-XX XX:XX:XX - discord.client - INFO - logging in using static token
2025-XX-XX XX:XX:XX - discord.client - INFO - {bot_name} подключился к Discord!
```

## Команды для тестирования

- `!test_welcome` - тест приветственного сообщения
- `!check_perms` - проверка прав бота
- `!check_channel` - информация о канале приветствия

## Устранение неполадок

### Ошибка "DISCORD_BOT_TOKEN environment variable is not set"
- Убедитесь, что токен установлен правильно
- Проверьте, что файл .env находится в корневой папке проекта

### Ошибка "discord module not found"
- Установите зависимости: `py -m pip install -r requirements.txt`

### Бот не отвечает на команды
- Проверьте права бота на сервере
- Убедитесь, что бот добавлен на сервер с правильными правами

### Ошибки в логах
- Проверьте файл `bot.log` для подробной информации
- Убедитесь, что все ID каналов и ролей в `config.py` правильные

## Поддержка

При возникновении проблем:
1. Проверьте логи в файле `bot.log`
2. Убедитесь, что все зависимости установлены
3. Проверьте права бота на сервере
4. Убедитесь, что токен бота действителен